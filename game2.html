<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ—è –∏–≥—Ä–æ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f2f5;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        h1 {
            color: #2c3e50;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }
        .add-game {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .filters {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #34495e;
        }
        input, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #dfe6e9;
            border-radius: 6px;
            font-size: 16px;
        }
        .status-options {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        .status-option {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }
        .game-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        .game-card:hover {
            transform: translateY(-5px);
        }
        .game-platform {
            font-size: 24px;
            margin-bottom: 10px;
        }
        .game-title {
            font-size: 20px;
            font-weight: 700;
            margin: 5px 0;
            color: #2c3e50;
        }
        .game-info {
            color: #7f8c8d;
            margin: 8px 0;
            font-size: 14px;
        }
        .game-status {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 13px;
            font-weight: 600;
            margin: 10px 0;
        }
        .status-completed {
            background-color: #2ecc71;
            color: white;
        }
        .status-in-progress {
            background-color: #f39c12;
            color: white;
        }
        .status-planned {
            background-color: #95a5a6;
            color: white;
        }
        .game-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }
        .action-btn {
            padding: 8px 12px;
            font-size: 14px;
        }
        .delete-btn {
            background-color: #e74c3c;
        }
        .delete-btn:hover {
            background-color: #c0392b;
        }
    </style>
</head>
<body>
    <header>
        <h1>üéÆ –ú–æ—è –∏–≥—Ä–æ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</h1>
    </header>

    <div class="controls">
        <div class="add-game">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É</h2>
            <div class="form-group">
                <label for="game-title">–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã:</label>
                <input type="text" id="game-title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: The Witcher 3">
            </div>
            <div class="form-group">
                <label for="game-platform">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</label>
                <select id="game-platform">
                    <option value="PC">PC üíª</option>
                    <option value="PlayStation">PlayStation üéÆ</option>
                    <option value="Xbox">Xbox üéÆ</option>
                    <option value="Nintendo Switch">Nintendo Switch üïπÔ∏è</option>
                    <option value="–ú–æ–±–∏–ª—å–Ω–∞—è">–ú–æ–±–∏–ª—å–Ω–∞—è üì±</option>
                </select>
            </div>
            <div class="form-group">
                <label for="game-genre">–ñ–∞–Ω—Ä:</label>
                <select id="game-genre">
                    <option value="RPG">RPG</option>
                    <option value="–®—É—Ç–µ—Ä">–®—É—Ç–µ—Ä</option>
                    <option value="–°—Ç—Ä–∞—Ç–µ–≥–∏—è">–°—Ç—Ä–∞—Ç–µ–≥–∏—è</option>
                    <option value="–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ">–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</option>
                    <option value="–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ">–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ</option>
                    <option value="–ì–æ–Ω–∫–∏">–ì–æ–Ω–∫–∏</option>
                </select>
            </div>
            <div class="form-group">
                <label>–°—Ç–∞—Ç—É—Å:</label>
                <div class="status-options">
                    <div class="status-option">
                        <input type="radio" id="status-completed" name="game-status" value="–ü—Ä–æ–π–¥–µ–Ω–∞">
                        <label for="status-completed">–ü—Ä–æ–π–¥–µ–Ω–∞</label>
                    </div>
                    <div class="status-option">
                        <input type="radio" id="status-in-progress" name="game-status" value="–í –ø—Ä–æ—Ü–µ—Å—Å–µ" checked>
                        <label for="status-in-progress">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</label>
                    </div>
                    <div class="status-option">
                        <input type="radio" id="status-planned" name="game-status" value="–í –ø–ª–∞–Ω–∞—Ö">
                        <label for="status-planned">–í –ø–ª–∞–Ω–∞—Ö</label>
                    </div>
                </div>
            </div>
            <button id="add-game-btn">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é</button>
        </div>

        <div class="filters">
            <h2>–§–∏–ª—å—Ç—Ä—ã</h2>
            <div class="form-group">
                <label for="filter-platform">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</label>
                <select id="filter-platform">
                    <option value="–í—Å–µ">–í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</option>
                    <option value="PC">PC</option>
                    <option value="PlayStation">PlayStation</option>
                    <option value="Xbox">Xbox</option>
                    <option value="Nintendo Switch">Nintendo Switch</option>
                    <option value="–ú–æ–±–∏–ª—å–Ω–∞—è">–ú–æ–±–∏–ª—å–Ω—ã–µ</option>
                </select>
            </div>
            <div class="form-group">
                <label for="filter-genre">–ñ–∞–Ω—Ä:</label>
                <select id="filter-genre">
                    <option value="–í—Å–µ">–í—Å–µ –∂–∞–Ω—Ä—ã</option>
                    <option value="RPG">RPG</option>
                    <option value="–®—É—Ç–µ—Ä">–®—É—Ç–µ—Ä</option>
                    <option value="–°—Ç—Ä–∞—Ç–µ–≥–∏—è">–°—Ç—Ä–∞—Ç–µ–≥–∏—è</option>
                    <option value="–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ">–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</option>
                    <option value="–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ">–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ</option>
                    <option value="–ì–æ–Ω–∫–∏">–ì–æ–Ω–∫–∏</option>
                </select>
            </div>
            <button id="reset-filters-btn">–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
        </div>
    </div>

    <div class="games-grid">
        <!-- –ü—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–≥—Ä—ã -->
        <!--<div class="game-card">
            <div class="game-platform">üéÆ</div>
            <h3 class="game-title">The Witcher 3: Wild Hunt</h3>
            <div class="game-info">PC ‚Ä¢ RPG</div>
            <span class="game-status status-completed">–ü—Ä–æ–π–¥–µ–Ω–∞</span>
            <div class="game-actions">
                <button class="action-btn">–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
                <button class="action-btn delete-btn">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>

        –ï—â–µ –ø—Ä–∏–º–µ—Ä—ã –∫–∞—Ä—Ç–æ—á–µ–∫
        <div class="game-card">
            <div class="game-platform">üíª</div>
            <h3 class="game-title">Stardew Valley</h3>
            <div class="game-info">PC ‚Ä¢ –°–∏–º—É–ª—è—Ç–æ—Ä</div>
            <span class="game-status status-in-progress">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</span>
            <div class="game-actions">
                <button class="action-btn">–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
                <button class="action-btn delete-btn">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>

        <div class="game-card">
            <div class="game-platform">üïπÔ∏è</div>
            <h3 class="game-title">The Legend of Zelda</h3>
            <div class="game-info">Switch ‚Ä¢ –ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</div>
            <span class="game-status status-planned">–í –ø–ª–∞–Ω–∞—Ö</span>
            <div class="game-actions">
                <button class="action-btn">–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
                <button class="action-btn delete-btn">–£–¥–∞–ª–∏—Ç—å</button>-->
            </div>
        </div>
    </div>
    <script>
        let gameName = document.querySelector('#game-title')
        let gamePlatforme = document.querySelector('#game-platform')
        let gameGenre = document.querySelector('#game-genre')
        let statusGame = document.querySelector('[name="game-status"]:checked')
        let addGame = document.querySelector('#add-game-btn')
        let gamesContainer = document.querySelector('.games-grid')
        let filterAll = document.querySelector('.filters')
        let resetfilter = document.querySelector('#reset-filters-btn')
        let filterGenre = document.querySelector('#filter-genre')
        let filterPlatform = document.querySelector('#filter-platform')
        let games = getGames()
        render()


        function saveGames() {
            localStorage.setItem('games', JSON.stringify(games))
        }

        function getGames() {
             let games = localStorage.getItem('games')
             if (games === null) {
                return []
             }
             return JSON.parse(games)
        }

        function getIcon(gamePlatforme) {
            if (game.gamePlatforme === 'PC') {
                return 'üíª'
            } 
            if (game.gamePlatforme === 'PlayStation') {
                return 'üéÆ'
            }
            if (game.gamePlatforme === 'Xbox') {
                return 'üéÆ'
            }
            if (game.gamePlatforme === 'Nintendo Switch') {
                return 'üïπÔ∏è'
            }
            if (game.gamePlatforme === '–ú–æ–±–∏–ª—å–Ω–∞—è') {
                return 'üì±'
            }

        }

        function render() {
          saveGames()
          let filteredGames = getFilteredGames()
          let content = []
          for ([i, game] of filteredGames.entries()) {
            content.push(`<div class="game-card" data-game-id="${i}">
            <div class="game-platform">${getIcon(game.gamePlatforme)}</div>
            <h3 class="game-title">${game.gameName}</h3>
            <div class="game-info">${game.gamePlatforme} ‚Ä¢ ${game.gameGenre}</div>
            <span class="game-status status-in-progress">${game.statusGame}</span>
                    <select class="change-status">
                    <option ${game.statusGame === '–ü—Ä–æ–π–¥–µ–Ω–∞' ? 'selected' : ''} value="–ü—Ä–æ–π–¥–µ–Ω–∞">–ü—Ä–æ–π–¥–µ–Ω–∞</option>
                    <option ${game.statusGame === '–í –ø—Ä–æ—Ü–µ—Å—Å–µ' ? 'selected' : ''} value="–í –ø—Ä–æ—Ü–µ—Å—Å–µ">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
                    <option ${game.statusGame === '–í –ø–ª–∞–Ω–∞—Ö' ? 'selected' : ''} value="–í –ø–ª–∞–Ω–∞—Ö">–í –ø–ª–∞–Ω–∞—Ö</option>
                </select>
            <div class="game-actions">
                <button class="action-btn delete-btn">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
        </div>`)
          }
          gamesContainer.innerHTML = content.join('\n')

        }

        addGame.addEventListener('click', function() {
           let game = {
            gameName: gameName.value,
            gamePlatforme: gamePlatforme.value,
            gameGenre: gameGenre.value,
            statusGame: statusGame.value
           }
           games.push(game)
           render()
        })
        window.addEventListener('click', function(event) {
            let el = event.target.closest('[data-game-id]')
            if (!el) {
                return
            }
            let id = el.dataset.gameId
            if (!Boolean(id)) {
                return
            }
            if (event.target.closest('.delete-btn')) {
                games.splice(id, 1)
                render()
            }
        })
        window.addEventListener('change', function(event) {
            let el = event.target.closest('[data-game-id]')
            if (!el) {
                return
            }
            let id = Number(el.dataset.gameId)
            if (event.target.closest('.change-status')) {
                games[id].statusGame = event.target.value
                
                render()
            }
        })


        function getFilteredGames() {
            let genre = filterGenre.value
            let platform = filterPlatform.value
            console.log(genre, platform)
            let filteredGames = games.filter(function(game) {
                if ((game.gameGenre === genre || genre === '–í—Å–µ') &&
                (game.gamePlatforme === platform || platform === '–í—Å–µ')) {
                   return true
                } else {
                    return false
                }

            })
            return filteredGames
        }


        filterAll.addEventListener('change', function() {
            console.log('dsdsdsf')
            render()
        })
        resetfilter.addEventListener('click', function() {
            filterGenre.value = '–í—Å–µ'
            filterPlatform.value = '–í—Å–µ'
            render()
        })
    </script>
</body>
</html>